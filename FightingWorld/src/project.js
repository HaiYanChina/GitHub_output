require=function t(e,i,n){function s(_,a){if(!i[_]){if(!e[_]){var r="function"==typeof require&&require;if(!a&&r)return r(_,!0);if(o)return o(_,!0);var h=new Error("Cannot find module '"+_+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[_]={exports:{}};e[_][0].call(c.exports,function(t){var i=e[_][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[_].exports}for(var o="function"==typeof require&&require,_=0;_<n.length;_++)s(n[_]);return s}({C_Global:[function(t,e,i){"use strict";cc._RFpush(e,"856575vt+VDBIkCdD8HU+lX","C_Global"),window.G_Center=null,window.G_RoleContainer=null;var n={getRandomArea:function(t,e){return parseInt(Math.random()*(e-t+1)+t)},getRandomBool:function(){return Boolean(Math.random()>.5)},getPointsLength:function(t,e){var i=cc.pSub(t,e);return Math.sqrt(i.x*i.x+i.y*i.y)},getPointDir:function(t){var e,i=this.getAngle(t);return i>-22.5&&i<22.5?e=G_Type.Type_dir.right:i>22.5&&i<67.5?e=G_Type.Type_dir.right_up:i>67.5&&i<112.5?e=G_Type.Type_dir.up:i>112.5&&i<157.5?e=G_Type.Type_dir.left_up:i>157.5&&i<180||i<-157.5&&i>-180?e=G_Type.Type_dir.left:i<-112.5&&i>-157.5?e=G_Type.Type_dir.left_down:i<-67.5&&i>-112.5?e=G_Type.Type_dir.down:i<-22.5&&i>-67.5&&(e=G_Type.Type_dir.right_down),e},getAngle:function(t){return 57.29577951*Math.atan2(t.y,t.x)}};window.gg=n,cc._RFpop()},{}],C_Type:[function(t,e,i){"use strict";cc._RFpush(e,"cce66auRzBFG7fOmln7qOIJ","C_Type");var n={Type_dir:cc.Enum({right_up:1,right:2,right_down:3,down:4,left_down:5,left:6,left_up:7,up:8}),Type_aniState:cc.Enum({stand:1,walk:2,hurt:3,death:4,atk:5}),Type_gameState:cc.Enum({gameRuning:1,gamePause:2,gameEnd:3}),Type_object:cc.Enum({myHero:1,otherHero:2,npc:3})};n.Type_keyIndex={87:n.Type_dir.up,83:n.Type_dir.down,65:n.Type_dir.left,68:n.Type_dir.right},n.dirText={1:"右上",2:"右",3:"右下",4:"下",5:"左下",6:"左",7:"左上",8:"上"},window.G_Type=n,cc._RFpop()},{}],HelloWorld:[function(t,e,i){"use strict";cc._RFpush(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(t){}}),cc._RFpop()},{}],M_Role:[function(t,e,i){"use strict";cc._RFpush(e,"92d55k1im5Nran8zRbMhW4/","M_Role"),cc.Class({"extends":cc.Component,_objName:null,_dir:null,_aniState:null,_skillState:null,_comboCD:null,_riseSpeedCD:null,_ristSpeedValue:null,_list_Normal_atk:null,_curNormalAtkIndex:null,_bloodBarComp:null,_objectType:null,_roleTypeComp:null,_aniNode:null,_riseLimit:null,_flyLabNum:null,_atkRectW:null,_atkRectH:null,_curSpeed:null,_attr_atk:null,_attr_HP:null,_attr_dodge:null,_attr_crit:null,_attr_critAdd:null,_curHP:null,_viewLength:null,properties:{p_buttonWalkSpeed:1,p_rockWalkSpeed:1,p_aniName_stand:"role01_idle",p_aniName_atk:"role01_atk",p_aniName_walk:"role01_walk",p_aniName_hurt:"role01_hurt",p_aniName_die:"role01_death",p_bloodBar:cc.Node},onLoad:function(){this._bodyW2=this.getAniWidth()/2,this._bodyH2=this.getAniHeight()/2,this._curSpeed=this.p_buttonWalkSpeed,this._resetSpeed(0),this._dt_combo=0,this._lab_BaseTag=11,this._flyLabNum=0,this._riseLimit=!1,this._riseAct=null,this._bloodBarComp=this.p_bloodBar.getComponent("P_ProgressBar")},_act_stand:function(){this._clearWalkState(),this._aniState=G_Type.Type_aniState.stand},_act_atk:function(t){this._aniState=G_Type.Type_aniState.atk,G_Center.skillInCD(t),this._clearWalkState()},_act_walk:function(){this._clearNormalAtkCD(),this._aniState=G_Type.Type_aniState.walk},_act_hurt:function(){this._clearNormalAtkCD(),this._clearWalkState(),this._aniState=G_Type.Type_aniState.hurt},_act_die:function(){this._clearNormalAtkCD(),this._clearWalkState(),this._aniState=G_Type.Type_aniState.death,G_Center.pauseGame()},beHurt:function(t,e){this.getIsDodge()?this.getIdleLabComp().flyDodge():(this.getIdleLabComp().flyHP(t*-1,e),this._bloodBarComp.updateBar(t*-1),this.reduceHP(t))},reduceHP:function(t){this._curHP-=t,this._curHP<=0?(this._curHP=0,this._act_die()):this._act_hurt()},getIsDodge:function(){return this.getOdds()<=this._attr_dodge},attackObj:function(t){var e,i=this.getIsCrit();e=i?this._attr_atk*this._attr_critAdd:this._attr_atk,t.beHurt(e,i)},getIsCrit:function(){return this.getOdds()<=this._attr_crit},pressWalkTo:function(t){if(!this._dict_Touch[t]){switch(this._objectType){case G_Type.Type_object.myHero:this._dict_Touch[t]=!0;break;case G_Type.Type_object.otherHero:break;case G_Type.Type_object.npc:for(var e in this._dict_Touch)t==e?this._dict_Touch[e]=!0:this._dict_Touch[e]=!1}this._resetAniDir(t),this._setWalkSpeed(!1,t),this._aniState!=G_Type.Type_aniState.walk&&(this._act_walk(),this._riseLimit||(this._riseAct=this.node.runAction(cc.sequence(cc.delayTime(this._riseSpeedCD),cc.callFunc(this._riseWalkSpeed.bind(this))))))}},walkPressUp:function(t){this._setWalkSpeed(!0,t),this._dict_Touch[t]=!1;var e=this._sortWalk();e&&this._aniState==G_Type.Type_aniState.walk&&this.endWalk()},endWalk:function(){this._act_stand(),this._resetSpeed()},_riseWalkSpeed:function(){this._aniState==G_Type.Type_aniState.walk&&(this._resetSpeed(this._ristSpeedValue),this._sortWalk())},_sortWalk:function(){var t=!0;for(var e in this._dict_Touch)this._dict_Touch[e]&&(t=!1,this._resetAniDir(e),this._setWalkSpeed(!1,e));return t},_setWalkSpeed:function(t,e){e=parseInt(e);var i;switch(i=t?0:this._curSpeed,e){case G_Type.Type_dir.left:this._offX=i*-1;break;case G_Type.Type_dir.up:this._offY=1*i;break;case G_Type.Type_dir.right:this._offX=1*i;break;case G_Type.Type_dir.down:this._offY=i*-1;break;default:return}},forceStand:function(){this._clearWalkState(),this._act_stand()},_clearWalkState:function(){for(var t in this._dict_Touch)this._dict_Touch[t]=!1;this._resetSpeed()},_getIsWalkLimit:function(t,e){return!(t>0&&t<G_RoleContainer.getMapW()&&e>0&&e<G_RoleContainer.getMapH())},pressSkill:function(t){switch(t){case 74:this._act_atk(4);break;case 75:this._normalAtkNext();break;case 76:break;case 85:this._act_atk(5);break;default:return}},_startNormalAtk:function(){this._curNormalAtkIndex=0,this._normalAtkNext()},_normalAtkNext:function(){if(this._aniState!=G_Type.Type_aniState.atk)if(this._curNormalAtkIndex<this._list_Normal_atk.length)if(0!=this._curNormalAtkIndex&&this._dt_combo<=0)this._startNormalAtk();else{var t=this._list_Normal_atk[this._curNormalAtkIndex];this._act_atk(t),this._dt_combo=this._comboCD,this._curNormalAtkIndex+=1}else this._startNormalAtk()},skillOutCD:function(t){this._getIsNormalAtk(t)||(this._skillState[t]=!1)},_clearNormalAtkCD:function(t){if(this._aniState==G_Type.Type_aniState.atk)if(t)this._skillState[t]=!1;else for(var e in this._list_Normal_atk)this._skillState[this._list_Normal_atk[e]]=!1},_getIsNormalAtk:function(t){for(var e in this._list_Normal_atk)if(t==this._list_Normal_atk[e])return!0;return!1},getIdleLabComp:function(){for(var t,e=0;e<this._flyLabNum;e++)if(t=this.node.getChildByTag(this._lab_BaseTag+e),t&&!t.getComponent("P_FlyLabel").getIsUsing())return t.getComponent("P_FlyLabel");return t=this._addFlyLab(),t.getComponent("P_FlyLabel")},_addFlyLab:function(){var t=new cc.Node,e=t.addComponent(cc.Label);e.string="";var i=t.addComponent("P_FlyLabel");return i.setParentInfo(this),this.node.addChild(t,3,this._lab_BaseTag+this._flyLabNum),this._flyLabNum+=1,t},_resetSpeed:function(t){this._riseAct&&this.node.stopAction(this._riseAct),t?this._curSpeed+=t:this._curSpeed=this.p_buttonWalkSpeed,this._offCenter=Math.sqrt(this._curSpeed*this._curSpeed/2)},_resetAniDir:function(t){!t||t!=G_Type.Type_dir.left&&t!=G_Type.Type_dir.right||(this._dir=t),this._dir==G_Type.Type_dir.left?this._aniNode.scaleX=-1:this._aniNode.scaleX=1},_walkCallBack:function(t,e){this._roleTypeComp.walkCallBack(t,e)},getOdds:function(){return gg.getRandomArea(0,1e3)},setRoleTypeComp:function(t){this._roleTypeComp=t},setRiseLimit:function(t){this._riseLimit=t},setObjectType:function(t){this._objectType=t},getBodyBox:function(){return cc.rect(this.node.x-this._bodyW2,this.node.y-.1*this.getAniHeight(),this.getAniWidth(),this.getAniHeight())},getAtkBox:function(){return cc.rect(this.node.x,this.node.y,this._atkRectW,this._atkRectH)},getViewLength:function(){return this._viewLength},getAtkRectW:function(){return this._atkRectW},getAtkRectH:function(){return this._atkRectH},getAniWidth:function(){return this._aniNode.width},getAniHeight:function(){return this._aniNode.height},getAniState:function(){return this._aniState},update:function(t){if(this._dt_combo>0&&(this._dt_combo-=t,this._dt_combo<=0&&(this._dt_combo=0)),this._aniState==G_Type.Type_aniState.walk){var e,i;this._offX&&this._offY?(e=this._offX/Math.abs(this._offX)*this._offCenter,i=this._offY/Math.abs(this._offY)*this._offCenter):(e=this._offX,i=this._offY),this._walkCallBack(e,i),e=this.node.x+e,i=this.node.y+i,this._getIsWalkLimit(e,i)||(this.node.x=e,this.node.y=i)}}}),cc._RFpop()},{}],P_AniEvent:[function(t,e,i){"use strict";cc._RFpush(e,"a391cHiL/pBVq/bmMyOKXiM","P_AniEvent"),cc.Class({"extends":cc.Component,_parentComp:null,properties:{},onLoad:function(){},setParentComp:function(t){this._parentComp=t},aniFrame_atkCallBack:function(t){if(this._parentComp){var e=t.split("-");e[0],e[1];this._parentComp.atkChecking()}}}),cc._RFpop()},{}],P_FlyLabel:[function(t,e,i){"use strict";cc._RFpush(e,"330eezRZf9B7JmCkXD79y4m","P_FlyLabel"),cc.Class({"extends":cc.Component,_isUsed:null,properties:{},onLoad:function(){},setParentInfo:function(t){this._isUsed=!1,this._parentNodeH=t.getAniHeight(),this._hp_flyTime=1,this._firstX=0,this._firstY=.5*this._parentNodeH},getIsUsing:function(){return this._isUsed},flyHP:function(t,e){this.node.x=this._firstX,this.node.y=this._firstY;var i=this.getComponent(cc.Label);i.fontSize=11,t>0?(this.node.color=cc.Color.GREEN,i.string="+"+t):t<0&&(this.node.color=cc.Color.RED,e?(i.fontSize=25,i.string="暴击"+t):i.string=t),this._isUsed=!0;var n=cc.moveTo(this._hp_flyTime,this.node.x,this.node.y+this._parentNodeH);this.node.runAction(cc.sequence(n,cc.callFunc(this.flyEnd,this)))},flyDodge:function(){this.node.x=this._firstX,this.node.y=this._firstY;var t=this.getComponent(cc.Label);this.node.color=cc.Color.GREEN,t.string="闪避--",t.fontSize=18,this._isUsed=!0;var e=cc.moveTo(this._hp_flyTime,this.node.x,this.node.y+this._parentNodeH);this.node.runAction(cc.sequence(e,cc.callFunc(this.flyEnd,this)))},flyEnd:function(){this.getComponent(cc.Label).string="",this._isUsed=!1}}),cc._RFpop()},{}],P_GameCenter:[function(t,e,i){"use strict";cc._RFpush(e,"0556fL4b3ZKn5zDM+oJjK9p","P_GameCenter"),cc.Class({"extends":cc.Component,_gameState:null,properties:{p_roleContainer:cc.Node,p_skillIcon01:cc.Node,p_skillIcon02:cc.Node,p_skillIcon03:cc.Node,p_skillIcon04:cc.Node},onLoad:function(){G_Center=this,this._init()},_init:function(){this._roleContainerComp=this.p_roleContainer.getComponent("P_RolesContainer"),this._gameState=G_Type.Type_gameState.gameEnd},startGame:function(){this._gameState=G_Type.Type_gameState.gameRuning,this._roleContainerComp.startGame()},pauseGame:function(){this._gameState=G_Type.Type_gameState.gamePause},getIsGameRuning:function(){return this._gameState==G_Type.Type_gameState.gameRuning},skillInCD:function(t){switch(t){case 4:this.p_skillIcon01.getComponent("P_SkillBar").inCD(t);break;case 5:this.p_skillIcon04.getComponent("P_SkillBar").inCD(t);break;default:return}},skillOutCD:function(t){this._roleContainerComp.skillOutCD(t)}}),cc._RFpop()},{}],P_GameStart:[function(t,e,i){"use strict";cc._RFpush(e,"f3a48uZxrdGvICfl5eQ2ZyC","P_GameStart"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this._initGame()},_initGame:function(){}}),cc._RFpop()},{}],P_HeroDebugBox:[function(t,e,i){"use strict";cc._RFpush(e,"94e5fug4atA6qKYqxRZxFqt","P_HeroDebugBox"),cc.Class({"extends":cc.Component,_objW:null,_objH:null,_objW2:null,_objH2:null,properties:{},onLoad:function(){this._init()},_init:function(){this._ctx=this.getComponent(cc.Graphics)},setDebugBox:function(t,e){this._objW=t,this._objH=e,this._objW2=t/2,this._objH2=e/2,this.drawAtkBox(),this.drawBodyBox()},drawAtkBox:function(){this._ctx=this.getComponent(cc.Graphics),this._ctx.rect(0,0,.7*this._objW,.8*this._objH),this._ctx.strokeColor=cc.Color.RED,this._ctx.stroke()},drawBodyBox:function(){this._ctx.rect(-this._objW2,.1*-this._objH,this._objW,this._objH),this._ctx.strokeColor=cc.Color.BLUE,this._ctx.stroke()}}),cc._RFpop()},{}],P_Logic_Monster:[function(t,e,i){"use strict";cc._RFpush(e,"1291bnQWKlJp5P7kjiIaWTq","P_Logic_Monster"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this._initData()},_initData:function(){this._jobComp=this.getComponent("P_Swordsman"),this._enemyNode=G_RoleContainer.getPlayerNode(),this._atkRectW=this._jobComp.getAtkRectW(),this._atkRectH=this._jobComp.getAtkRectH(),this._isInView=!1,this._updateTime=.2,this._time_reset=this._updateTime},_doLogic:function(){this._getIsInAtkArea()?this._jobComp._normalAtkNext():this._doWalk()},_doWalk:function(){var t=gg.getPointDir(cc.pSub(this._enemyNode.getPosition(),this.node.getPosition()));switch(t){case 1:t=2;break;case 3:t=2;break;case 5:t=6;break;case 7:t=6}this._jobComp.pressWalkTo(t)},_getIsInAtkArea:function(){return!(Math.abs(this._enemyNode.y-this.node.y)>.5*this._jobComp.getAniHeight())&&!(Math.abs(this._enemyNode.x-this.node.x)>.5*this._jobComp.getAniWidth())},update:function(t){if(G_Center.getIsGameRuning()&&this._time_reset>0&&(this._time_reset-=t,this._time_reset<=0)){this._time_reset=this._updateTime;var e=gg.getPointsLength(this._enemyNode.getPosition(),this.node.getPosition());e<this._jobComp.getViewLength()?(this._isInView=!0,this._doLogic()):this._isInView&&(this._jobComp.forceStand(),this._isInView=!1)}}}),cc._RFpop()},{}],P_Monster:[function(t,e,i){"use strict";cc._RFpush(e,"e917dHMV5dF3qp2Daog8Y9t","P_Monster"),cc.Class({"extends":cc.Component,_offX:null,_offY:null,properties:{},onLoad:function(){this._init()},_init:function(){this._jobComp=this.getComponent("P_Swordsman"),this._jobComp._objName="怪物",this._jobComp.setObjectType(G_Type.Type_object.npc)},startGame:function(){this._setHeroAttrs(),this._doAfterAttrSet()},_doAfterAttrSet:function(){this._jobComp.setRiseLimit(!0),this._jobComp.setAniCallObj(this),this._jobComp.resetRole(),this._jobComp.setRoleTypeComp(this)},_setHeroAttrs:function(){this._jobComp._atkRectW=.7*this._jobComp.getAniWidth(),this._jobComp._atkRectH=.8*this._jobComp.getAniHeight(),this._jobComp._comboCD=2,this._jobComp._riseSpeedCD=2,this._jobComp._ristSpeedValue=1,this._jobComp._list_Normal_atk=[1,2,3],this._jobComp._attr_atk=3,this._jobComp._attr_HP=30,this._jobComp._attr_dodge=500,this._jobComp._attr_crit=200,this._jobComp._attr_critAdd=2,this._jobComp._viewLength=200},atkChecking:function(){var t=G_RoleContainer.getPlayerNode().getComponent("P_Swordsman");cc.rectIntersectsRect(this._jobComp.getAtkBox(),t.getBodyBox())&&this._jobComp.attackObj(t)},walkCallBack:function(t,e){}}),cc._RFpop()},{}],P_Player:[function(t,e,i){"use strict";cc._RFpush(e,"32569qcrDdAvKpaJ4PZRzkv","P_Player"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this._init()},_init:function(){this._jobComp=this.getComponent("P_Swordsman"),this._jobComp._objName="玩家",this._jobComp.setObjectType(G_Type.Type_object.myHero)},startGame:function(){this._setHeroAttrs(),this._doAfterAttrSet()},_doAfterAttrSet:function(){this._jobComp.setAniCallObj(this),this._jobComp.resetRole(),this._jobComp.setRoleTypeComp(this)},_setHeroAttrs:function(){this._jobComp._atkRectW=.7*this._jobComp.getAniWidth(),this._jobComp._atkRectH=.8*this._jobComp.getAniHeight(),this._jobComp._comboCD=2,this._jobComp._riseSpeedCD=2,this._jobComp._ristSpeedValue=1,this._jobComp._list_Normal_atk=[1,2,3],this._jobComp._attr_atk=3,this._jobComp._attr_HP=30,this._jobComp._attr_dodge=500,this._jobComp._attr_crit=200,this._jobComp._attr_critAdd=2,this._jobComp._viewLength=200},atkChecking:function(){var t=G_RoleContainer.getMonsterNode().getComponent("P_Swordsman");cc.rectIntersectsRect(this._jobComp.getAtkBox(),t.getBodyBox())&&this._jobComp.attackObj(t)},walkCallBack:function(t,e){G_RoleContainer.moveMap(t,e)}}),cc._RFpop()},{}],P_ProgressBar:[function(t,e,i){"use strict";cc._RFpush(e,"e0273EVai1E2ppzmu6QSyiD","P_ProgressBar"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this._init()},_init:function(){this._nodeBar=this.getComponent(cc.ProgressBar),this._reducePercent=.01,this._offsetNum=0},setData:function(t){this._maxValue=t,this._curValue=this._maxValue,this._readyValue=0,this._reduceValue=this._maxValue*this._reducePercent,this._nodeBar.progress=1},updateBar:function(t){this._maxValue&&(t>0?t<=this._maxValue-this._curValue?this._curValue+=t:(t=this._maxValue-this._curValue,this._curValue=this._maxValue):-t<=this._curValue?this._curValue+=t:(t=-this._curValue,this._curValue=0),this._readyValue=Math.abs(t),this._offsetNum=t/this._readyValue)},update:function(t){this._readyValue>0&&(this._nodeBar.progress+=this._reducePercent*this._offsetNum,this._readyValue-=this._reduceValue,this._readyValue<=0&&(this._curValue<=0?this._nodeBar.progress=0:this._curValue>=this._maxValue&&(this._nodeBar.progress=1)))}}),cc._RFpop()},{}],P_RolesContainer:[function(t,e,i){"use strict";cc._RFpush(e,"881d9oM7qJLrYHOyw9gbGuh","P_RolesContainer"),cc.Class({"extends":cc.Component,properties:{p_leftCompetitor:cc.Node,p_monster:cc.Node},onLoad:function(){this._init(),this._addListener(),G_RoleContainer=this},_init:function(){this._playerJobComp=this.p_leftCompetitor.getComponent("P_Swordsman"),this._playerComp=this.p_leftCompetitor.getComponent("P_Player"),this._monsterComp=this.p_monster.getComponent("P_Monster")},startGame:function(){this._playerComp.startGame(),this._monsterComp.startGame()},_addListener:function(){var t={event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,e){if(G_Center.getIsGameRuning()){var i=G_Type.Type_keyIndex[t];i?this._playerJobComp.pressWalkTo(i):this.pressSkill(t)}}.bind(this),onKeyReleased:function(t,e){if(G_Center.getIsGameRuning()){var i=G_Type.Type_keyIndex[t];i&&this._playerJobComp.walkPressUp(i)}}.bind(this)};cc.eventManager.addListener(t,this.node)},pressSkill:function(t){var e;switch(t){case 74:e=1;break;case 75:e=2;break;case 76:e=3;break;case 85:e=4;break;default:return}this._playerJobComp.pressSkill(t)},skillOutCD:function(t){this._playerJobComp.skillOutCD(t)},moveMap:function(t,e){return this.node.x+=-t,this.node.y+=-e,this.node.x>0?(this.node.x=0,!1):this.node.y>0?(this.node.y=0,!1):this.node.x<-(this.node.width-cc.visibleRect.width)?(this.node.x=-(this.node.width-cc.visibleRect.width),!1):!(this.node.y<-(this.node.height-cc.visibleRect.height))||(this.node.y=-(this.node.height-cc.visibleRect.height),!1)},getMapW:function(){return this.node.width},getMapH:function(){return this.node.height},getPlayerNode:function(){return this.p_leftCompetitor},getMonsterNode:function(){return this.p_monster}}),cc._RFpop()},{}],P_SkillBar:[function(t,e,i){"use strict";cc._RFpush(e,"8f40aqdCARPQr2wpp8rHeOB","P_SkillBar"),cc.Class({"extends":cc.Component,_skillCD:null,_isInCD:null,_skillIndex:null,properties:{},onLoad:function(){this._init(),this._addListener()},_init:function(){this._nodeBar=this.node.getComponent(cc.ProgressBar),this._nodeBar.progress=1,this._isInCD=!1},_addListener:function(){this.node.on("mouseup",function(t){t.currentTarget;this._isInCD||this.inCD()}.bind(this))},setSkillData:function(){this._isInCD=!1,this._skillCD=3},inCD:function(t){this._isInCD||(this.setSkillData(),this._skillIndex=t,this._nodeBar.progress=1,this._isInCD=!0)},update:function(t){this._isInCD&&this._nodeBar.progress>0&&(this._nodeBar.progress-=t/this._skillCD*1,this._nodeBar.progress<=0&&(this._nodeBar.progress=0,this._isInCD=!1,G_Center.skillOutCD(this._skillIndex)))}}),cc._RFpop()},{}],P_Swordsman:[function(t,e,i){"use strict";cc._RFpush(e,"363e5pY2jVGWqmcmYVfdq4D","P_Swordsman"),cc.Class({"extends":t("M_Role"),_offX:null,_offY:null,properties:{},onLoad:function(){this._init(),this._super()},_init:function(){this._aniNode=this.node.getChildByName("animationObject"),this._ani=this._aniNode.getComponent(cc.Animation),this._ani.on("finished",this.ani_finished_CallBack,this),this._dict_Touch={},this._dict_Touch[G_Type.Type_dir.up]=!1,this._dict_Touch[G_Type.Type_dir.right]=!1,this._dict_Touch[G_Type.Type_dir.down]=!1,this._dict_Touch[G_Type.Type_dir.left]=!1,this._offX=0,this._offY=0,this._skillState={1:!1,2:!1,3:!1,4:!1},this._curNormalAtkIndex=0,this._act_stand(),this._resetAniDir(G_Type.Type_dir.right),this.node.getComponentInChildren("P_HeroDebugBox").setDebugBox(this.getAniWidth(),this.getAniHeight())},setAniCallObj:function(t){this._aniNode.getComponent("P_AniEvent").setParentComp(t)},resetRole:function(){this._curHP=this._attr_HP,this._aniState=G_Type.Type_aniState.stand,this._act_stand(),this._bloodBarComp.setData(this._curHP)},ani_finished_CallBack:function(t){if("finished"==t.type){var e=t.detail._name,i=e.substring(0,10);if(i==this.p_aniName_atk){for(var n in this._list_Normal_atk)if(this.p_aniName_atk+"0"+this._list_Normal_atk[n]==e){this._clearNormalAtkCD(this._list_Normal_atk[n]);break}this._act_stand()}e==this.p_aniName_hurt&&this._act_stand(),e==this.p_aniName_die}},_act_stand:function(){this._getAniStateLimit(G_Type.Type_aniState.stand)||(this._super(),this._ani.play(this.p_aniName_stand))},_act_atk:function(t){this._skillState[t]||this._getAniStateLimit(G_Type.Type_aniState.atk)||(this._super(t),this._skillState[t]=!0,t&&this._ani.play(this.p_aniName_atk+"0"+t))},_act_walk:function(){this._getAniStateLimit(G_Type.Type_aniState.walk)||(this._super(),this._ani.play(this.p_aniName_walk))},_act_hurt:function(){this._getAniStateLimit(G_Type.Type_aniState.hurt)||(this._super(),this._ani.play(this.p_aniName_hurt))},_act_die:function(){this._getAniStateLimit(G_Type.Type_aniState.death)||(this._super(),this._ani.play(this.p_aniName_die))},_getAniStateLimit:function(t){switch(t){case G_Type.Type_aniState.atk:if(this._aniState==G_Type.Type_aniState.atk)return!0;if(this._aniState==G_Type.Type_aniState.hurt||this._aniState==G_Type.Type_aniState.death)return!0;break;case G_Type.Type_aniState.stand:if(this._aniState==G_Type.Type_aniState.death)return!0;break;case G_Type.Type_aniState.walk:if(this._aniState==G_Type.Type_aniState.hurt||this._aniState==G_Type.Type_aniState.death)return!0;break;case G_Type.Type_aniState.hurt:if(this._aniState==G_Type.Type_aniState.death)return!0;break;case G_Type.Type_aniState.death:if(this._aniState==G_Type.Type_aniState.death)return!0}return!1},update:function(t){this._super(t)}}),cc._RFpop()},{M_Role:"M_Role"}]},{},["P_GameCenter","P_Logic_Monster","HelloWorld","P_Player","P_FlyLabel","P_Swordsman","C_Global","P_RolesContainer","P_SkillBar","P_HeroDebugBox","M_Role","P_AniEvent","C_Type","P_ProgressBar","P_Monster","P_GameStart"]);